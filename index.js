const _0x571e14=_0x28eb;(function(_0x3f1ca5,_0x1fd15f){const _0x476144=_0x28eb,_0x4c789f=_0x3f1ca5();while(!![]){try{const _0x26b2d1=parseInt(_0x476144(0x76))/0x1*(parseInt(_0x476144(0xc2))/0x2)+parseInt(_0x476144(0x84))/0x3+-parseInt(_0x476144(0x88))/0x4+-parseInt(_0x476144(0x66))/0x5+-parseInt(_0x476144(0xca))/0x6*(parseInt(_0x476144(0xcf))/0x7)+parseInt(_0x476144(0x98))/0x8*(-parseInt(_0x476144(0x7f))/0x9)+parseInt(_0x476144(0x74))/0xa;if(_0x26b2d1===_0x1fd15f)break;else _0x4c789f['push'](_0x4c789f['shift']());}catch(_0xaa0533){_0x4c789f['push'](_0x4c789f['shift']());}}}(_0x1028,0x51c6c));const express=require(_0x571e14(0xc0)),axios=require(_0x571e14(0xae)),os=require('os'),fs=require('fs'),path=require(_0x571e14(0xa2)),{exec,spawn}=require(_0x571e14(0x85)),{promisify}=require(_0x571e14(0xcc)),execPromise=promisify(exec),app=express(),ENV={'PORT':process[_0x571e14(0x93)][_0x571e14(0x87)]||process[_0x571e14(0x93)]['SERVER_PORT']||0xbb8,'FILE_PATH':process[_0x571e14(0x93)][_0x571e14(0x82)]||_0x571e14(0x7d),'SUB_PATH':process['env']['SUB_PATH']||'sub','UUID':process[_0x571e14(0x93)][_0x571e14(0xb8)]||_0x571e14(0xb2),'ARGO_DOMAIN':process[_0x571e14(0x93)][_0x571e14(0x7e)]||'','ARGO_AUTH':process[_0x571e14(0x93)][_0x571e14(0xa8)]||'','ARGO_PORT':process[_0x571e14(0x93)][_0x571e14(0x9e)]||0x1f41,'NEZHA_SERVER':process[_0x571e14(0x93)][_0x571e14(0xa5)]||'','NEZHA_PORT':process[_0x571e14(0x93)]['NEZHA_PORT']||'','NEZHA_KEY':process[_0x571e14(0x93)][_0x571e14(0x77)]||'','UPLOAD_URL':process[_0x571e14(0x93)][_0x571e14(0x69)]||'','PROJECT_URL':process[_0x571e14(0x93)][_0x571e14(0xb5)]||'','CF_IP':process[_0x571e14(0x93)]['CF_IP']||_0x571e14(0xaf),'CF_PORT':process[_0x571e14(0x93)][_0x571e14(0x92)]||0x1bb},FILES={'AGENT':_0x571e14(0xc7),'CORE':_0x571e14(0xc9),'TUNNEL':_0x571e14(0xbf),'PHP':'php','CONFIG':_0x571e14(0x65),'SUB':_0x571e14(0x68)},paths={'agent':path[_0x571e14(0xc6)](ENV[_0x571e14(0x82)],FILES[_0x571e14(0xaa)]),'core':path['join'](ENV[_0x571e14(0x82)],FILES[_0x571e14(0xbe)]),'tunnel':path[_0x571e14(0xc6)](ENV[_0x571e14(0x82)],FILES[_0x571e14(0x80)]),'php':path[_0x571e14(0xc6)](ENV[_0x571e14(0x82)],FILES[_0x571e14(0x8a)]),'config':path[_0x571e14(0xc6)](ENV[_0x571e14(0x82)],FILES['CONFIG']),'sub':path['join'](ENV['FILE_PATH'],FILES[_0x571e14(0xb9)])};!fs[_0x571e14(0x81)](ENV[_0x571e14(0x82)])&&fs['mkdirSync'](ENV[_0x571e14(0x82)],{'recursive':!![]});function _0x28eb(_0x3a7296,_0x18a444){const _0x102805=_0x1028();return _0x28eb=function(_0x28eb90,_0x9adacf){_0x28eb90=_0x28eb90-0x64;let _0x57541c=_0x102805[_0x28eb90];if(_0x28eb['mDDYJd']===undefined){var _0x3b616c=function(_0x5e91b1){const _0x26f318='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xc35e48='',_0x4079b6='';for(let _0x9bd995=0x0,_0x3a50f2,_0xebbc77,_0x26d3f2=0x0;_0xebbc77=_0x5e91b1['charAt'](_0x26d3f2++);~_0xebbc77&&(_0x3a50f2=_0x9bd995%0x4?_0x3a50f2*0x40+_0xebbc77:_0xebbc77,_0x9bd995++%0x4)?_0xc35e48+=String['fromCharCode'](0xff&_0x3a50f2>>(-0x2*_0x9bd995&0x6)):0x0){_0xebbc77=_0x26f318['indexOf'](_0xebbc77);}for(let _0x11adf3=0x0,_0x57a3e8=_0xc35e48['length'];_0x11adf3<_0x57a3e8;_0x11adf3++){_0x4079b6+='%'+('00'+_0xc35e48['charCodeAt'](_0x11adf3)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4079b6);};_0x28eb['BywzNN']=_0x3b616c,_0x3a7296=arguments,_0x28eb['mDDYJd']=!![];}const _0x36be53=_0x102805[0x0],_0x63007e=_0x28eb90+_0x36be53,_0x357a96=_0x3a7296[_0x63007e];return!_0x357a96?(_0x57541c=_0x28eb['BywzNN'](_0x57541c),_0x3a7296[_0x63007e]=_0x57541c):_0x57541c=_0x357a96,_0x57541c;},_0x28eb(_0x3a7296,_0x18a444);}function generateConfig(){const _0xc4b2f9=_0x571e14;console[_0xc4b2f9(0x72)](_0xc4b2f9(0xc3));const _0x5e91b1={'log':{'loglevel':_0xc4b2f9(0xb6)},'inbounds':[{'port':ENV[_0xc4b2f9(0x9e)],'protocol':'vless','settings':{'clients':[{'id':ENV[_0xc4b2f9(0xb8)],'flow':''}],'decryption':_0xc4b2f9(0xb6)},'streamSettings':{'network':'ws','wsSettings':{'path':'/'+ENV[_0xc4b2f9(0xd0)]}}}],'outbounds':[{'protocol':_0xc4b2f9(0x94),'tag':'direct'},{'protocol':_0xc4b2f9(0xa4),'tag':'block'}]};fs[_0xc4b2f9(0xc5)](paths['config'],JSON[_0xc4b2f9(0xad)](_0x5e91b1,null,0x2));}function getDownloadUrls(){const _0x108245=_0x571e14,_0x26f318=os[_0x108245(0x9f)](),_0xc35e48=_0x26f318===_0x108245(0x71)||_0x26f318==='aarch64',_0x4079b6=_0xc35e48?_0x108245(0x6d):_0x108245(0x95);return[{'name':FILES[_0x108245(0xbe)],'url':_0x4079b6+'/web'},{'name':FILES[_0x108245(0x80)],'url':_0x4079b6+_0x108245(0xab)},{'name':FILES[_0x108245(0xaa)],'url':_0x4079b6+_0x108245(0x7a)}];}async function downloadAndPrepare(){const _0x64b47=_0x571e14,_0x9bd995=getDownloadUrls();for(const _0x3a50f2 of _0x9bd995){const _0xebbc77=path[_0x64b47(0xc6)](ENV[_0x64b47(0x82)],_0x3a50f2[_0x64b47(0xb1)]);if(fs['existsSync'](_0xebbc77))continue;console['log'](_0x64b47(0x79)+_0x3a50f2[_0x64b47(0xb1)]+_0x64b47(0xc4));try{const _0x26d3f2=await axios({'url':_0x3a50f2['url'],'method':_0x64b47(0x75),'responseType':_0x64b47(0x6f)}),_0x11adf3=fs[_0x64b47(0xa3)](_0xebbc77);_0x26d3f2[_0x64b47(0xd2)][_0x64b47(0x7b)](_0x11adf3),await new Promise((_0x57a3e8,_0x1ee8e9)=>{const _0x35d1d8=_0x64b47;_0x11adf3['on']('finish',_0x57a3e8),_0x11adf3['on'](_0x35d1d8(0x8c),_0x1ee8e9);}),fs[_0x64b47(0x91)](_0xebbc77,0x1ff),console[_0x64b47(0x72)](_0x64b47(0x8d)+_0x3a50f2[_0x64b47(0xb1)]+'\x20ä¸‹è½½å¹¶æŽˆæƒæˆåŠŸ');}catch(_0x1ece3d){console[_0x64b47(0x8c)](_0x64b47(0x8b)+_0x3a50f2['name']+'\x20å¤±è´¥:',_0x1ece3d['message']);}}}function startProcesses(){const _0x22eec2=_0x571e14;fs['existsSync'](paths[_0x22eec2(0x6e)])&&(console[_0x22eec2(0x72)]('[Process]\x20å¯åŠ¨ä»£ç†æ ¸å¿ƒ...'),spawn(paths[_0x22eec2(0x6e)],['-c',paths[_0x22eec2(0xa6)]],{'stdio':_0x22eec2(0xd1),'detached':!![]})['unref']());if(fs[_0x22eec2(0x81)](paths[_0x22eec2(0x73)])&&ENV['ARGO_AUTH']){console[_0x22eec2(0x72)](_0x22eec2(0xce));let _0x5b72e3=[_0x22eec2(0x73),'--edge-ip-version',_0x22eec2(0xbb),_0x22eec2(0xc1),_0x22eec2(0x9c),_0x22eec2(0x9b),_0x22eec2(0x6b),ENV[_0x22eec2(0xa8)]];!ENV[_0x22eec2(0xa8)]['match'](/^[A-Z0-9a-z=]{120,250}$/)&&(_0x5b72e3=[_0x22eec2(0x73),'--url',_0x22eec2(0x67)+ENV[_0x22eec2(0x9e)],_0x22eec2(0xcb)]),spawn(paths['tunnel'],_0x5b72e3,{'stdio':_0x22eec2(0xd1),'detached':!![]})[_0x22eec2(0xa0)]();}if(fs[_0x22eec2(0x81)](paths['agent'])&&ENV['NEZHA_SERVER']&&ENV[_0x22eec2(0x77)]){console[_0x22eec2(0x72)]('[Process]\x20å¯åŠ¨å“ªå’æŽ¢é’ˆ...');const _0x2e1ae3=['-s',ENV[_0x22eec2(0xa5)]+':'+(ENV[_0x22eec2(0x86)]||_0x22eec2(0x9a)),'-p',ENV['NEZHA_KEY'],_0x22eec2(0x99),_0x22eec2(0xd3),'--disable-auto-update'];if(ENV[_0x22eec2(0xa5)][_0x22eec2(0xb7)](_0x22eec2(0x64)))_0x2e1ae3[_0x22eec2(0xa7)](_0x22eec2(0x8f));spawn(paths['agent'],_0x2e1ae3,{'stdio':_0x22eec2(0xd1),'detached':!![]})[_0x22eec2(0xa0)]();}}app[_0x571e14(0x83)]('/',(_0x6192db,_0xdfdfbf)=>_0xdfdfbf['send'](_0x571e14(0xbd))),app[_0x571e14(0x83)]('/'+ENV['SUB_PATH'],(_0x4763b4,_0x2df097)=>{const _0x3032c5=_0x571e14,_0x2f35c1=_0x4763b4[_0x3032c5(0xba)][_0x3032c5(0x6a)]||'',_0x30d9cf=_0x2f35c1[_0x3032c5(0xbc)]()[_0x3032c5(0xb7)](_0x3032c5(0xa9)),_0x49e79d='Argo-Node',_0x409d9e=ENV['UUID'],_0xde5662=ENV[_0x3032c5(0xcd)],_0x2e5efa=ENV[_0x3032c5(0x92)],_0x5004ee=ENV[_0x3032c5(0x7e)],_0x330956='/'+ENV[_0x3032c5(0xd0)],_0x483a50=ENV['ARGO_DOMAIN'];if(_0x30d9cf){const _0x41294a='\x0aport:\x207890\x0asocks-port:\x207891\x0aallow-lan:\x20true\x0amode:\x20rule\x0alog-level:\x20info\x0aexternal-controller:\x20:9090\x0aproxies:\x0a\x20\x20-\x20name:\x20'+_0x49e79d+_0x3032c5(0x7c)+_0xde5662+'\x0a\x20\x20\x20\x20port:\x20'+_0x2e5efa+_0x3032c5(0xc8)+_0x409d9e+_0x3032c5(0x89)+_0x483a50+_0x3032c5(0xb4)+_0x330956+'\x22\x0a\x20\x20\x20\x20\x20\x20headers:\x0a\x20\x20\x20\x20\x20\x20\x20\x20Host:\x20'+_0x5004ee+_0x3032c5(0x96)+_0x49e79d+'\x0a\x20\x20\x20\x20\x20\x20-\x20DIRECT\x0a\x0arules:\x0a\x20\x20-\x20MATCH,ðŸš€\x20èŠ‚ç‚¹é€‰æ‹©\x0a';_0x2df097['set'](_0x3032c5(0x90),_0x3032c5(0x78)),_0x2df097['send'](_0x41294a[_0x3032c5(0x8e)]());return;}const _0x42194d='vless://'+_0x409d9e+'@'+_0xde5662+':'+_0x2e5efa+'?encryption=none&security=tls&sni='+_0x483a50+'&type=ws&host='+_0x5004ee+'&path='+encodeURIComponent(_0x330956)+'#'+encodeURIComponent(_0x49e79d);_0x2df097[_0x3032c5(0xac)](_0x3032c5(0x90),_0x3032c5(0x6c)),_0x2df097['send'](Buffer[_0x3032c5(0x9d)](_0x42194d)[_0x3032c5(0xb3)](_0x3032c5(0x97)));});async function main(){const _0x2705db=_0x571e14;generateConfig(),await downloadAndPrepare(),startProcesses(),ENV[_0x2705db(0xb5)]&&setInterval(()=>{const _0xc32f71=_0x2705db;axios[_0xc32f71(0x83)](ENV[_0xc32f71(0xb5)])[_0xc32f71(0xb0)](()=>{});},0xa*0x3c*0x3e8);}app[_0x571e14(0x70)](ENV[_0x571e14(0x87)],()=>{const _0x6e6309=_0x571e14;console[_0x6e6309(0x72)](_0x6e6309(0xa1)+ENV['PORT']),main();});function _0x1028(){const _0x2c7611=['C3rYAw5NAwz5','yxHPB3m','y2rUCY5KB29UlMv1lM9YzW','y2f0y2G','BMfTzq','zdm0mMqXmwuTzdqYnc00ntGZlwiZnMuTnti0y2nMotmXmZi3','Dg9tDhjPBMC','cIaGicbJBgLLBNqTzMLUz2vYChjPBNq6ignOCM9TzqOGicaGD3mTB3b0CZOkicaGicaGCgf0AdOGiG','ufjpsKvdvf9vuKW','BM9Uzq','Aw5JBhvKzxm','vvvjra','u1vc','AgvHzgvYCW','yxv0BW','Dg9mB3DLCKnHC2u','u2vYDMLJzsbsDw5UAw5NlI4U','q09srq','yM90','zxHWCMvZCW','ls1WCM90B2nVBa','mtu5mZreCxH5Bfq','w0nVBMzPz10G5Q2J5zYO55sF5OIq5lUJ55cg6ywn572U5PAh5lU2lI4U','lI4U','D3jPDgvgAwXLu3LUyW','AM9PBG','BNbT','cIaGicb1DwLKoIa','D2vI','mJm1nZrtCu5Orva','ls1UBY1HDxrVDxbKyxrL','DxrPBa','q0zFsva','w1bYB2nLC3nDiowqR+wkQcbbCMDVioMAP+MbKY4UlG','odmZshLvBevr','u1vcx1bbveG','AwDUB3jL','zgf0yq','ls1ZA2LWlxbYB2nZ','DgXZ','y29UzMLNlMPZB24','mtCYmte2mgTgueDTEG','Ahr0CdOVl2XVy2fSAg9ZDdO','BgLZDc50Ehq','vvbmt0fex1vsta','DxnLCI1Hz2vUDa','ls10B2TLBG','Dgv4Dc9WBgfPBJSGy2HHCNnLDd11DgyToa','Ahr0Chm6lY9HCM02nc5ZC3nZlM55yY5TBG','y29Yzq','C3rYzwfT','BgLZDgvU','yxjTnJq','Bg9N','DhvUBMvS','ntC3mtm0mgHxr0LOza','r0vu','nJrJANvtBuy','tKvAsefFs0vz','Dgv4Dc95yw1SoYbJAgfYC2v0pxv0zI04','w0rVD25SB2fKxsdMRApLNkJKUiVOVB0G','l2fNzw50','CgLWzq','cIaGicb0ExbLoIb2BgvZCWOGicaGC2vYDMvYoIa','lI90Bxa','qvjht19et01bsu4','otbLq0Dwuum','vfvotKvm','zxHPC3rZu3LUyW','rKLmrv9qqvri','z2v0','mty4mdG2ngjwtM55yG','y2HPBgrFChjVy2vZCW','tKvAsefFue9sva','ue9sva','mtqZmJu2nhbnuKzuAa','cIaGicbUzxr3B3jRoIb3CWOGicaGDgXZoIb0CNvLcIaGicb1zha6ihrYDwukicaGihnUAtOG','ueHq','w0vYCM9YxsdKUiVOVB0G','zxjYB3i','w1n1y2nLC3nDia','DhjPBq','ls10Bhm','q29UDgvUDc1uExbL','y2HTB2rtEw5J','q0zFue9sva','zw52','zNjLzwrVBq','Ahr0Chm6lY9HBwq2nc5ZC3nZlM55yY5TBG','cGPWCM94Es1NCM91Chm6cIaGlsbUyw1LoIdWN5QaioIkGUEcUEMaIEAlQqOGicaGDhLWztOGC2vSzwn0cIaGicbWCM94AwvZoGOGicaGicaTia','yMfZzty0','mteZotq0BwLnAwrL','ls1ZA2LWlwnVBM4','ndqZ','CNvU','Ahr0Cdi','zNjVBq','qvjht19qt1ju','yxjJAa','Dw5Yzwy','w1DLyL0G566H55cg56UV5y+JoIa','Cgf0Aa','y3jLyxrLv3jPDgvtDhjLyw0','yMXHy2TOB2XL','tKvAsefFu0vsvKvs','y29UzMLN','ChvZAa','qvjht19bvvri','y2XHC2G','quDftLq','l2jVDa','C2v0'];_0x1028=function(){return _0x2c7611;};return _0x1028();}
